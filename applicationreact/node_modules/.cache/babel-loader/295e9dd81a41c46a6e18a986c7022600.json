{"ast":null,"code":"var _jsxFileName = \"C:\\\\wamp64\\\\www\\\\bapClausiusInvestments\\\\applicationreact\\\\src\\\\views\\\\components\\\\logIn\\\\login.js\";\nimport React, { Component } from 'react';\nimport './login.css';\nimport ConnexionSvg from \"../../../assets/illustrations/04-seconnecter.svg\";\n\nconst axios = require('axios');\n\nconst crypto = require('crypto');\n\nclass LogIn extends Component {\n  render() {\n    this.handleSubmit = event => {\n      event.preventDefault();\n      let $identifier = document.getElementById('email');\n      let $password = document.getElementById('password');\n      const hashPwd = crypto.createHash('sha1').update($password.value).digest('hex');\n      axios.get('http://localhost/bapClausiusInvestments/applicationreact/src/views/api/user.php?user=' + $identifier.value).catch(err => {\n        console.log(err.response.data);\n      }).then(response => {\n        let responseUser = response.data.infos[0].user;\n        let responseEmail = response.data.infos[0].email;\n        let responsePassword = response.data.infos[0].password;\n\n        if ($identifier.value === responseUser && hashPwd === responsePassword) {\n          console.log('OK NICE');\n          localStorage.setItem(\"user\", responseUser);\n          localStorage.setItem(\"email\", responseEmail);\n          localStorage.setItem(\"password\", responsePassword);\n          localStorage.setItem(\"connected\", \"true\");\n          console.log(localStorage);\n        } else {\n          console.log('PO NICE');\n        }\n      });\n      const number = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9];\n      let generatedNumber = [];\n\n      for (let i = 0; i <= 6; i++) {\n        let rand = Math.floor(Math.random() * number.length);\n        let generatedAuthentification = [];\n        generatedAuthentification.push(rand);\n      }\n    };\n\n    return React.createElement(\"section\", {\n      className: \"signUpSection\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"allPart\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"leftPart\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"signUpBox\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      className: \"formSignUp\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, \"Se connecter\"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"text\",\n      id: \"email\",\n      placeholder: \"Nom d'utilisateur ou Email\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"password\",\n      id: \"password\",\n      placeholder: \"Mot de passe\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"submit\",\n      id: \"submitSignUp\",\n      value: \"Connexion\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"interactions\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, \"Mot de passe oubli\\xE9 ? Cliquez-ici\"))), React.createElement(\"div\", {\n      className: \"rightPart\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: ConnexionSvg,\n      alt: \"Connexion Illustration\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }))));\n  }\n\n}\n\nexport default LogIn;","map":{"version":3,"sources":["C:/wamp64/www/bapClausiusInvestments/applicationreact/src/views/components/logIn/login.js"],"names":["React","Component","axios","require","crypto","LogIn","render","handleSubmit","event","preventDefault","$identifier","document","getElementById","$password","hashPwd","createHash","update","value","digest","get","catch","err","console","log","response","data","then","responseUser","infos","user","responseEmail","email","responsePassword","password","localStorage","setItem","number","generatedNumber","i","rand","Math","floor","random","length","generatedAuthentification","push","ConnexionSvg"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\n\r\n\r\n\r\nimport './login.css'\r\n\r\nimport ConnexionSvg from '../../../assets/illustrations/04-seconnecter.svg';\r\n\r\nconst axios = require('axios');\r\nconst crypto = require('crypto');\r\n\r\nclass LogIn extends Component {\r\n    handleSubmit;\r\n\r\n    render() {\r\n\r\n        this.handleSubmit = (event) => {\r\n            event.preventDefault();\r\n            let $identifier = document.getElementById('email');\r\n            let $password = document.getElementById('password');\r\n            const hashPwd = crypto.createHash('sha1').update($password.value).digest('hex');\r\n            axios.get('http://localhost/bapClausiusInvestments/applicationreact/src/views/api/user.php?user=' + $identifier.value\r\n            ).catch((err) => {\r\n                console.log(err.response.data)\r\n            }).then((response) => {\r\n                let responseUser = response.data.infos[0].user;\r\n                let responseEmail = response.data.infos[0].email;\r\n                let responsePassword = response.data.infos[0].password;\r\n\r\n\r\n                if($identifier.value === responseUser && hashPwd === responsePassword){\r\n                    console.log('OK NICE');\r\n                    localStorage.setItem(\"user\", responseUser);\r\n                    localStorage.setItem(\"email\", responseEmail);\r\n                    localStorage.setItem(\"password\", responsePassword);\r\n                    localStorage.setItem(\"connected\", \"true\");\r\n                    console.log(localStorage)\r\n                }\r\n                else{\r\n                    console.log('PO NICE')\r\n                }\r\n            });\r\n\r\n            const number = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9];\r\n            let generatedNumber = [];\r\n            for (let i = 0; i <= 6; i++) {\r\n                let rand = Math.floor(Math.random() * number.length);\r\n                let generatedAuthentification = [];\r\n                generatedAuthentification.push(rand);\r\n            }\r\n        };\r\n\r\n        return (\r\n            <section className=\"signUpSection\">\r\n                <div className=\"allPart\">\r\n                    <div className=\"leftPart\">\r\n                        <div className=\"signUpBox\">\r\n                            <form onSubmit={this.handleSubmit} className=\"formSignUp\">\r\n                                <h1>Se connecter</h1>\r\n                                <br/>\r\n                                <input type=\"text\" id=\"email\" placeholder=\"Nom d'utilisateur ou Email\"/><br/>\r\n                                <input type=\"password\" id=\"password\" placeholder=\"Mot de passe\"/><br/>\r\n                                <input type=\"submit\" id=\"submitSignUp\" value=\"Connexion\"/><br/>\r\n                            </form>\r\n                        </div>\r\n                        <div className=\"interactions\">\r\n                            <span>Mot de passe oublié ? Cliquez-ici</span>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"rightPart\">\r\n                        <img src={ConnexionSvg} alt=\"Connexion Illustration\"/>\r\n                    </div>\r\n                </div>\r\n\r\n            </section>\r\n        )\r\n    }\r\n}\r\n\r\nexport default LogIn;"]},"metadata":{},"sourceType":"module"}